<div class="screen-center">

  <h2>Reset Password</h2>
  <form [formGroup]='form' *ngIf="isTokenValid" (ngSubmit)='updatePassword()'>
    <span>
      Please enter your email and we’ll send you instructions to reset your password.
    </span>
    <div class="input_box">
      <input class="input-line" type="password" id="password" autofocus name="Password" formControlName='password'
        required minlength="8" placeholder="Password" />
    </div>
    <mat-error *ngIf="password?.invalid && (password?.dirty || password?.touched)" class="alert alert-danger">
      <div *ngIf="password?.errors?.['required']">
        Password is required
      </div>
      <div *ngIf="password?.errors?.['minlength']">
        Password must be at least 8 characters long
      </div>
    </mat-error>
    <div class="input_box">
      <input class="input-line" type="password" name="Password" formControlName='confirmPassword' placeholder="Password" />
    </div>

    <mat-error *ngIf="confirmPassword?.invalid && (confirmPassword?.dirty || confirmPassword?.touched)" class="alert alert-danger">
      <div *ngIf="confirmPassword?.errors?.['required']">
        Password is required
      </div>
      <div *ngIf="confirmPassword?.errors?.['minlength']">
        Password must be at least 8 characters long
      </div>

      <div *ngIf="confirmPassword?.errors?.['passwordNotMatch']">
        Passwords do not match
      </div>
    </mat-error>
    <p>
      <input type="button" class="standard-button orange submit" type="submit" value="Submit" />
    </p>

    <div class="alert alert-success" *ngIf="isSuccessful">Password reset email sent to your email, please check it。
    </div>
  </form>

  <mat-error *ngIf="isTokenChecked && !isTokenValid">{{errorMessage}}</mat-error>
  <p class="text-line">
    <a [routerLink]="['/login']">Login</a>
  </p>
</div>
